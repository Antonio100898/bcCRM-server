15/06/23 14:15  GetDataSet Exception Message: The objects "problemsClose" and "problemsClose" in the FROM clause have the same exposed names. Use correlation names to distinguish them.
. extraInfo: sql: SELECT  problemsClose.id, problemsClose.workerId, problemsClose.phoneId, problemsClose.phone, problemsClose.ip, problemsClose.placeNameId, problemsClose.placeName, problemsClose.customerName, problemsClose.problemDesc, problemsClose.problemSolution, problemsClose.statusId, problemsClose.emergencyId, problemsClose.departmentId, problemsClose.reportToYaron, problemsClose.startTime, problemsClose.finishTime, problemStatus.statusName, workers.firstName + N' ' + workers.lastName AS workerName, departments.departmentName, problemsClose.toWorker, workers_1.firstName + N' ' + workers_1.lastName AS toWorkerName, workers_1.jobTitle as toWorkerJobTitle, tFiles.[fileCount], tFiles.filesName, problemWorkers.workerId as toWorkersId, updaterWorkerId, workers_2.firstName + N' ' + workers_2.lastName AS updateWorkerName, workers_2.wDepartmentId as updateWorkerDepartment, places.vip, problemsClose.takingCare, problemsClose.isLocked, problemsClose.callCustomerBack FROM problemsClose LEFT JOIN workers ON problemsClose.workerId = workers.id INNER JOIN problemStatus ON problemsClose.statusId = problemStatus.id INNER JOIN departments ON problemsClose.departmentId = departments.id LEFT JOIN workers AS workers_1 ON problemsClose.toWorker = workers_1.id LEFT JOIN workers AS workers_2 ON problemsClose.updaterWorkerId = workers_2.id LEFT JOIN places ON places.id = problemsClose.placeNameId LEFT JOIN(SELECT[problemId], Sum(1) as fileCount, STRING_AGG(ISNULL([filePath], ' '), ', ') As filesName FROM[dbo].[problemFiles] group by[problemId]) as tFiles on problemsClose.id = tFiles.[problemId] LEFT JOIN problemWorkers ON problemsClose.id = problemWorkers.problemId LEFT JOIN problemsClose ON problemsClose.id = problemsClose.problemId LEFT JOIN(SELECT[problemId] FROM [dbo].[problemTracking] WHERE workerId = @workerId GROUP BY [problemId]) tTracking ON problemsClose.id = tTracking.problemId WHERE problemsClose.workerId = 1 AND problemsClose.statusId<>2 ORDER BY problemsClose.startTime DESC

15/06/23 14:16  GetDataSet Exception Message: Invalid column name 'problemId'.
. extraInfo: sql: SELECT  problemsClose.id, problemsClose.workerId, problemsClose.phoneId, problemsClose.phone, problemsClose.ip, problemsClose.placeNameId, problemsClose.placeName, problemsClose.customerName, problemsClose.problemDesc, problemsClose.problemSolution, problemsClose.statusId, problemsClose.emergencyId, problemsClose.departmentId, problemsClose.reportToYaron, problemsClose.startTime, problemsClose.finishTime, problemStatus.statusName, workers.firstName + N' ' + workers.lastName AS workerName, departments.departmentName, problemsClose.toWorker, workers_1.firstName + N' ' + workers_1.lastName AS toWorkerName, workers_1.jobTitle as toWorkerJobTitle, tFiles.[fileCount], tFiles.filesName, problemWorkers.workerId as toWorkersId, updaterWorkerId, workers_2.firstName + N' ' + workers_2.lastName AS updateWorkerName, workers_2.wDepartmentId as updateWorkerDepartment, places.vip, problemsClose.takingCare, problemsClose.isLocked, problemsClose.callCustomerBack FROM problemsClose LEFT JOIN workers ON problemsClose.workerId = workers.id INNER JOIN problemStatus ON problemsClose.statusId = problemStatus.id INNER JOIN departments ON problemsClose.departmentId = departments.id LEFT JOIN workers AS workers_1 ON problemsClose.toWorker = workers_1.id LEFT JOIN workers AS workers_2 ON problemsClose.updaterWorkerId = workers_2.id LEFT JOIN places ON places.id = problemsClose.placeNameId LEFT JOIN(SELECT[problemId], Sum(1) as fileCount, STRING_AGG(ISNULL([filePath], ' '), ', ') As filesName FROM[dbo].[problemFiles] group by[problemId]) as tFiles on problemsClose.id = tFiles.[problemId] LEFT JOIN problemWorkers ON problemsClose.id = problemWorkers.problemId LEFT JOIN problemTypes ON problemsClose.id = problemTypes.problemId LEFT JOIN(SELECT[problemId] FROM [dbo].[problemTracking] WHERE workerId = @workerId GROUP BY [problemId]) tTracking ON problemsClose.id = tTracking.problemId WHERE problemsClose.toWorker=1 AND problemsClose.statusId<>2 ORDER BY problemsClose.startTime DESC

15/06/23 14:29  GetDataSet Exception Message: Column 'problemsClose.id' is invalid in the select list because it is not contained in either an aggregate function or the GROUP BY clause.
. extraInfo: sql: SELECT  problemsClose.id, problemsClose.workerId, problemsClose.phoneId, problemsClose.phone, problemsClose.ip, problemsClose.placeNameId, problemsClose.placeName, problemsClose.customerName, problemsClose.problemDesc, problemsClose.problemSolution, problemsClose.statusId, problemsClose.emergencyId, problemsClose.departmentId, problemsClose.reportToYaron, problemsClose.startTime, problemsClose.finishTime, problemStatus.statusName, workers.firstName + N' ' + workers.lastName AS workerName, departments.departmentName, problemsClose.toWorker, workers_1.firstName + N' ' + workers_1.lastName AS toWorkerName, workers_1.jobTitle as toWorkerJobTitle, tFiles.[fileCount], tFiles.filesName, problemWorkers.workerId as toWorkersId, updaterWorkerId, workers_2.firstName + N' ' + workers_2.lastName AS updateWorkerName, workers_2.wDepartmentId as updateWorkerDepartment, places.vip, problemsClose.takingCare, problemsClose.isLocked, problemsClose.callCustomerBack, STRING_AGG (CONVERT(NVARCHAR(max),problemTypeName + '-' + color), ',') as problemTypes FROM problemsClose LEFT JOIN workers ON problemsClose.workerId = workers.id INNER JOIN problemStatus ON problemsClose.statusId = problemStatus.id INNER JOIN departments ON problemsClose.departmentId = departments.id LEFT JOIN workers AS workers_1 ON problemsClose.toWorker = workers_1.id LEFT JOIN workers AS workers_2 ON problemsClose.updaterWorkerId = workers_2.id LEFT JOIN places ON places.id = problemsClose.placeNameId LEFT JOIN(SELECT[problemId], Sum(1) as fileCount, STRING_AGG(ISNULL([filePath], ' '), ', ') As filesName FROM[dbo].[problemFiles] group by[problemId]) as tFiles on problemsClose.id = tFiles.[problemId] LEFT JOIN problemWorkers ON problemsClose.id = problemWorkers.problemId LEFT JOIN problemTypeDetails ON problemsClose.id = problemTypeDetails.problemId LEFT JOIN problemTypes ON problemTypeDetails.problemTypeId = problemTypes.id LEFT JOIN(SELECT[problemId] FROM [dbo].[problemTracking] WHERE workerId = @workerId GROUP BY [problemId]) tTracking ON problemsClose.id = tTracking.problemId WHERE problemsClose.toWorker=1 AND problemsClose.statusId<>2 ORDER BY problemsClose.startTime DESC

15/06/23 14:41  GetDataSet Exception Message: Incorrect syntax near the keyword 'LEFT'.
Incorrect syntax near 'tTracking'.
. extraInfo: sql: SELECT  problemsClose.id, problemsClose.workerId, problemsClose.phoneId, problemsClose.phone, problemsClose.ip, problemsClose.placeNameId, problemsClose.placeName, problemsClose.customerName, problemsClose.problemDesc, problemsClose.problemSolution, problemsClose.statusId, problemsClose.emergencyId, problemsClose.departmentId, problemsClose.reportToYaron, problemsClose.startTime, problemsClose.finishTime, problemStatus.statusName, workers.firstName + N' ' + workers.lastName AS workerName, departments.departmentName, problemsClose.toWorker, workers_1.firstName + N' ' + workers_1.lastName AS toWorkerName, workers_1.jobTitle as toWorkerJobTitle, tFiles.[fileCount], tFiles.filesName, problemWorkers.workerId as toWorkersId, updaterWorkerId, workers_2.firstName + N' ' + workers_2.lastName AS updateWorkerName, workers_2.wDepartmentId as updateWorkerDepartment, places.vip, problemsClose.takingCare, problemsClose.isLocked, problemsClose.callCustomerBack FROM problemsClose LEFT JOIN workers ON problemsClose.workerId = workers.id INNER JOIN problemStatus ON problemsClose.statusId = problemStatus.id INNER JOIN departments ON problemsClose.departmentId = departments.id LEFT JOIN workers AS workers_1 ON problemsClose.toWorker = workers_1.id LEFT JOIN workers AS workers_2 ON problemsClose.updaterWorkerId = workers_2.id LEFT JOIN places ON places.id = problemsClose.placeNameId LEFT JOIN (SELECT[problemId], Sum(1) as fileCount, STRING_AGG(ISNULL([filePath], ' '), ', ') As filesName FROM[dbo].[problemFiles] group by[problemId]) as tFiles on problemsClose.id = tFiles.[problemId] LEFT JOIN problemWorkers ON problemsClose.id = problemWorkers.problemId LEFT JOIN LEFT JOIN(SELECT[problemId] FROM [dbo].[problemTracking] WHERE workerId = @workerId GROUP BY [problemId]) tTracking ON problemsClose.id = tTracking.problemId WHERE problemsClose.toWorker=1 AND problemsClose.statusId<>2 ORDER BY problemsClose.startTime DESC

15/06/23 15:39  GetDataSet Exception Message: Invalid column name 'problemName'.
. extraInfo: sql: SELECT [id],[problemName],[color] FROM [dbo].[problemTypes] ORDER BY problemName

15/06/23 15:39  GetDataSet Exception Message: Invalid column name 'problemName'.
. extraInfo: sql: SELECT [id],[problemName],[color] FROM [dbo].[problemTypes] ORDER BY problemName

15/06/23 15:40  ExecuteScalar Exception Message: The client was unable to establish a connection because of an error during connection initialization process before login. Possible causes include the following:  the client tried to connect to an unsupported version of SQL Server; the server was too busy to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server. (provider: TCP Provider, error: 0 - An existing connection was forcibly closed by the remote host.)
. InnerException: An existing connection was forcibly closed by the remote host
. extraInfo: sql: SELECT [id] FROM workers WHERE [guidKey]=@guidKey;

